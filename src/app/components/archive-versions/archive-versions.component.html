<div class="row">
  <span><a (click)="goToArchiveReleases()"><i class="fa fa-angle-double-left"></i>Back to Archive Releases</a></span>

  <div class="col-md-12">
    <div>
      <div class="float-end" *ngIf="isEditableReleasePackage">
        <div ngbDropdown>
          <button class="btn btn-primary" ngbDropdownToggle aria-haspopup="true" aria-expanded="false">Edit <i
              class="caret"></i></button>
          <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right">
            <button class="dropdown-item">
              <i class="fa fa-edit"></i> Edit Package
            </button>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item" (click)="viewLicense()">
              <i class="fa fa-gavel"></i> View License
            </button>
            <button class="dropdown-item" (click)="updateLicense()">
              <i class="fa fa-edit"></i> Edit License
            </button>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item">
              <i class="fa fa-plus"></i> Add Version
            </button>
          </div>
        </div>

      </div>

      <h2>{{ packageEntity.name }} - {{ packageEntity?.member?.key }}</h2>
    </div>

    <div [innerHTML]="packageEntity.description"></div>
  </div>

  <div class="col-lg-12"></div>

  <div class="col-lg-12">
    <h3>Archive Versions</h3>
    <table class="table table-striped">
      <caption></caption>
      <thead>
        <tr>
          <th>Version</th>
          <th>Description</th>
          <th>Download Files</th>
          <th>Date Published</th>
          <th>
            <i class="fa fa-cog"></i>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let releaseVersion of versions['archive']">
          <td class="col-sm-2">{{ releaseVersion.name }}</td>
          <td class="col-sm-5" [innerHTML]="releaseVersion.description"></td>
          <td class="col-sm-3">
            <div *ngFor="let releaseFile of releaseVersion.releaseFiles">
              <p style="display: flex; gap: 10px; align-items: center;">
                <i class="fa fa-file" style="margin-bottom: 10px;"></i>
                <a [href]="releaseFile.clientDownloadUrl" target="_blank" *ngIf="releaseFile.clientDownloadUrl"
                  [innerHTML]="releaseFile.label">releaseFile.label</a>
                <button class="btn btn-success btn-xs pull-right" style="margin-bottom: 10px;"
                  *ngIf="isEditableReleasePackage">
                  <i class="fa fa-edit"></i> Edit
                </button>
              </p>
            </div>
          </td>
          <td class="col-sm-2">{{ releaseVersion.publishedAt | date: 'yyyy-MM-dd' }}</td>
          <td>
            <div ngbDropdown *ngIf="isEditableReleasePackage">
              <button class="dropdown-toggle" ngbDropdownToggle>
              </button>
              <div ngbDropdownMenu>
                <button class="dropdown-item">
                  <i class="fa fa-pencil"></i> Edit
                </button>

                <button class="dropdown-item" (click)="moveToRelease(releaseVersion)">
                  <i class="fa fa-archive"></i> Move to Release Management
                </button>

              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="col-md-12">
    <div class="alert alert-warning" *ngIf="versions['archive'].length == 0">
      <i class="fa fa-exclamation-circle"></i> There are currently no archive versions of this release.
    </div>
  </div>
</div>