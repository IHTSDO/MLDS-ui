<div class="modal-header">
    
  <h3 class="title">
    <span>{{ 'global.word.edit' | translate | compareText: 'Edit' }}</span>
    <span>{{ 'views.usageLog.institutions.hospAndInst' | translate | compareText: 'Hospital/Institution' }}</span>
  </h3>
    <button type="button" class="btn-close" (click)="cancel()"></button>

  </div>
  
  <div class="modal-body">
    <div *ngFor="let alert of alerts">
      <div class="alert alert-{{ alert.type }}">
        {{ alert.msg }}
        <button type="button" class="close" (click)="closeAlert(alert)">&times;</button>
      </div>
    </div>
  
    <h3>{{ 'global.country.' + institution.country?.isoCode2 |translate }}</h3>
  
    <form [formGroup]="formInstitution" (ngSubmit)="updateInstitution()">
      <div class="row">
        <div class="col-md-6 form-group">
          <label class="title" for="name">{{'views.usageLog.institutions.modal.subtitle'|translate|compareText:'Hospital/Institution Name'}}</label>
          <input
            id="name"
            formControlName="name"
            class="form-control"
            placeholder="{{ 'views.usageLog.institutions.modal.placeholder' | translate}}"
          />
          <div *ngIf="formInstitution.get('name')?.invalid && attemptedSubmit" class="text-danger">
            {{'form.requiredField'|translate|compareText:'Required Field'}}
          </div>
        </div>
      </div>
  
      <hr />
  
      <div class="row">
        <div class="col-md-4 form-group">
          <h4 class="title">{{'views.usageLog.institutions.started'|translate|compareText:'Started to Use'}}</h4>
          <div class="input-group datepicker">
            <input
              formControlName="startDate"
              class="form-control"
              placeholder="yyyy-mm-dd"
              ngbDatepicker
              #startDate="ngbDatepicker"
              (click)="startDate.toggle()"
            />&nbsp; <span class="input-group-text">
              <i class="fa fa-calendar"></i>
            </span>
            <div *ngIf="formInstitution.get('startDate')?.invalid && attemptedSubmit" class="text-danger">
              {{'form.requiredField'|translate|compareText:'Required Field'}}
            </div>
          </div>
        </div>
      
        <div class="col-md-4 form-group">
          <h4 class="title">{{'views.usageLog.institutions.finished'|translate|compareText:'Ceased Use'}}</h4>
          <div class="input-group datepicker">
            <input
              formControlName="endDate"
              class="form-control"
              placeholder="yyyy-mm-dd"
              ngbDatepicker
              #endDate="ngbDatepicker"
              (click)="endDate.toggle()"
            />
            &nbsp; <span class="input-group-text">
              <i class="fa fa-calendar"></i>
            </span>
            <div *ngIf="formInstitution.get('endDate')?.hasError('dateAfter') && attemptedSubmit" class="text-danger">
              {{'views.usageLog.institutions.modal.dateBefore'|translate|compareText:'Date before Started to Use date'}}
            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-8 form-group">
          <label class="title" for="note">{{'global.word.note'|translate|compareText:'Note'}}</label>
          <textarea id="note" formControlName="note" class="form-control" rows="4"></textarea>
        </div>
      </div>
    </form>
  </div>
  
  <div class="modal-footer">
    <button class="btn btn-link" (click)="cancel()" [disabled]="submitting">{{'global.word.cancel'|translate|compareText:'Cancel'}}</button>
    <button
      class="add-button"
      (click)="updateInstitution()"
    >
      {{'global.word.update'|translate|compareText:'Update'}} <span *ngIf="submitting" class="spinner-border spinner-border-sm"></span>
    </button>
  </div>
  